{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useEvent from './useEvent';\nimport useLayoutEffect from './useLayoutEffect';\nimport useState from './useState';\n/**\n * Similar to `useState` but will use props value if provided.\n * Note that internal use rc-util `useState` hook.\n */\n\nexport default function useMergedState(defaultStateValue, option) {\n  var _ref = option || {},\n      defaultValue = _ref.defaultValue,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      postState = _ref.postState;\n\n  var _useState = useState(function () {\n    if (value !== undefined) {\n      return value;\n    }\n\n    if (defaultValue !== undefined) {\n      return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n    }\n\n    return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      innerValue = _useState2[0],\n      setInnerValue = _useState2[1];\n\n  var mergedValue = value !== undefined ? value : innerValue;\n  var postMergedValue = postState ? postState(mergedValue) : mergedValue; // setState\n\n  var onChangeFn = useEvent(onChange);\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      changePrevValue = _useState4[0],\n      setChangePrevValue = _useState4[1];\n\n  var triggerChange = useEvent(function (updater, ignoreDestroy) {\n    setChangePrevValue(mergedValue, true);\n    setInnerValue(function (prev) {\n      var nextValue = typeof updater === 'function' ? updater(prev) : updater;\n      return nextValue;\n    }, ignoreDestroy);\n  }); // Effect to trigger onChange\n\n  useLayoutEffect(function () {\n    if (changePrevValue !== undefined && changePrevValue !== innerValue) {\n      onChangeFn === null || onChangeFn === void 0 ? void 0 : onChangeFn(innerValue, changePrevValue);\n    }\n  }, [changePrevValue, innerValue, onChangeFn]); // Effect of reset value to `undefined`\n\n  var prevValueRef = React.useRef(value);\n  React.useEffect(function () {\n    if (value === undefined && value !== prevValueRef.current) {\n      setInnerValue(value);\n    }\n\n    prevValueRef.current = value;\n  }, [value]);\n  return [postMergedValue, triggerChange];\n}","map":{"version":3,"sources":["C:/Users/wwdar/Desktop/React-Firebase-lesson-58/magic-memory/node_modules/antd/node_modules/rc-util/es/hooks/useMergedState.js"],"names":["_slicedToArray","React","useEvent","useLayoutEffect","useState","useMergedState","defaultStateValue","option","_ref","defaultValue","value","onChange","postState","_useState","undefined","_useState2","innerValue","setInnerValue","mergedValue","postMergedValue","onChangeFn","_useState3","_useState4","changePrevValue","setChangePrevValue","triggerChange","updater","ignoreDestroy","prev","nextValue","prevValueRef","useRef","useEffect","current"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useEvent from './useEvent';\nimport useLayoutEffect from './useLayoutEffect';\nimport useState from './useState';\n/**\n * Similar to `useState` but will use props value if provided.\n * Note that internal use rc-util `useState` hook.\n */\n\nexport default function useMergedState(defaultStateValue, option) {\n  var _ref = option || {},\n      defaultValue = _ref.defaultValue,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      postState = _ref.postState;\n\n  var _useState = useState(function () {\n    if (value !== undefined) {\n      return value;\n    }\n\n    if (defaultValue !== undefined) {\n      return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n    }\n\n    return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      innerValue = _useState2[0],\n      setInnerValue = _useState2[1];\n\n  var mergedValue = value !== undefined ? value : innerValue;\n  var postMergedValue = postState ? postState(mergedValue) : mergedValue; // setState\n\n  var onChangeFn = useEvent(onChange);\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      changePrevValue = _useState4[0],\n      setChangePrevValue = _useState4[1];\n\n  var triggerChange = useEvent(function (updater, ignoreDestroy) {\n    setChangePrevValue(mergedValue, true);\n    setInnerValue(function (prev) {\n      var nextValue = typeof updater === 'function' ? updater(prev) : updater;\n      return nextValue;\n    }, ignoreDestroy);\n  }); // Effect to trigger onChange\n\n  useLayoutEffect(function () {\n    if (changePrevValue !== undefined && changePrevValue !== innerValue) {\n      onChangeFn === null || onChangeFn === void 0 ? void 0 : onChangeFn(innerValue, changePrevValue);\n    }\n  }, [changePrevValue, innerValue, onChangeFn]); // Effect of reset value to `undefined`\n\n  var prevValueRef = React.useRef(value);\n  React.useEffect(function () {\n    if (value === undefined && value !== prevValueRef.current) {\n      setInnerValue(value);\n    }\n\n    prevValueRef.current = value;\n  }, [value]);\n  return [postMergedValue, triggerChange];\n}"]},"metadata":{},"sourceType":"module"}